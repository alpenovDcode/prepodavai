# –ë—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç GigaChat –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (5 –º–∏–Ω—É—Ç)

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
cd backend
cat .env | grep GIGACHAT
```

–î–æ–ª–∂–Ω—ã –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã:
- `GIGACHAT_CLIENT_ID`
- `GIGACHAT_CLIENT_SECRET`
- `GIGACHAT_SCOPE` (–æ–±—ã—á–Ω–æ `GIGACHAT_API_PERS`)

### 2. –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤

```bash
# Terminal 1
cd backend
npm run start:dev

# Terminal 2  
cd frontend
npm run dev
```

### 3. –ë—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç —á–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç

```bash
cd backend
ts-node scripts/test-gigachat.ts
```

–°–∫—Ä–∏–ø—Ç –ø–æ–ø—Ä–æ—Å–∏—Ç:
- Username –∏ API key (–∏–ª–∏ JWT —Ç–æ–∫–µ–Ω)
- –ó–∞—Ç–µ–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–µ—Ç:
  - ‚úÖ –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –º–æ–¥–µ–ª–µ–π
  - ‚úÖ –¢–µ–∫—Å—Ç–æ–≤–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è
  - ‚úÖ (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è

### 4. –¢–µ—Å—Ç —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

1. –û—Ç–∫—Ä–æ–π—Ç–µ `http://localhost:3000`
2. –ê–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å
3. –í—ã–±–µ—Ä–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é **"GigaChat"**
4. –í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–∂–∏–º **"–¢–µ–∫—Å—Ç–æ–≤–∞—è –±–µ—Å–µ–¥–∞"**
5. –í–≤–µ–¥–∏—Ç–µ –ø—Ä–æ–º–ø—Ç: `"–ü—Ä–∏–≤–µ—Ç, —Ä–∞—Å—Å–∫–∞–∂–∏ –æ —Å–µ–±–µ"`
6. –ù–∞–∂–º–∏—Ç–µ **"–°–æ–∑–¥–∞—Ç—å"**
7. –î–æ–∂–¥–∏—Ç–µ—Å—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ (10-30 —Å–µ–∫—É–Ω–¥)

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç —É—Å–ø–µ—à–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

- [ ] Backend –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- [ ] –í –ª–æ–≥–∞—Ö –≤–∏–¥–Ω–æ: `‚úÖ GigaChat token –ø–æ–ª—É—á–µ–Ω`
- [ ] `GET /api/gigachat/models` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –º–æ–¥–µ–ª–µ–π
- [ ] `POST /api/gigachat/generate` —Å–æ–∑–¥–∞—ë—Ç –∑–∞–ø—Ä–æ—Å
- [ ] –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `completed`
- [ ] –†–µ–∑—É–ª—å—Ç–∞—Ç –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ –∏—Å—Ç–æ—Ä–∏–∏

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ curl (–µ—Å–ª–∏ –µ—Å—Ç—å JWT —Ç–æ–∫–µ–Ω)

```bash
# 1. –ü–æ–ª—É—á–∏—Ç—å –º–æ–¥–µ–ª–∏
curl -X GET http://localhost:3001/api/gigachat/models \
  -H "Authorization: Bearer YOUR_TOKEN" | jq .

# 2. –°–æ–∑–¥–∞—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏—é
curl -X POST http://localhost:3001/api/gigachat/generate \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "mode": "chat",
    "userPrompt": "–ü—Ä–∏–≤–µ—Ç!",
    "maxTokens": 50
  }' | jq .

# 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å (–∑–∞–º–µ–Ω–∏—Ç–µ REQUEST_ID)
curl -X GET http://localhost:3001/api/generate/REQUEST_ID \
  -H "Authorization: Bearer YOUR_TOKEN" | jq .
```

## ‚ö†Ô∏è –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### "GIGACHAT_CLIENT_ID is required"
‚Üí –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `.env` —Ñ–∞–π–ª –≤ –ø–∞–ø–∫–µ `backend/`

### "Failed to get GigaChat token"
‚Üí –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å CLIENT_ID –∏ CLIENT_SECRET

### "–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∫—Ä–µ–¥–∏—Ç–æ–≤"
‚Üí –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±–∞–ª–∞–Ω—Å: `GET /api/subscriptions/me`

### –ú–µ–¥–ª–µ–Ω–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è
‚Üí –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ! GigaChat API –º–æ–∂–µ—Ç –æ—Ç–≤–µ—á–∞—Ç—å 10-30 —Å–µ–∫—É–Ω–¥

## üìö –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–°–º. [GIGACHAT_TESTING.md](./GIGACHAT_TESTING.md) –¥–ª—è –ø–æ–ª–Ω–æ–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏.

